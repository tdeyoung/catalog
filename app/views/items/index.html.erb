<p id="notice"><%= notice %></p>

<h1>Listing Items</h1>

<%= form_tag(items_path, :method => "get", id: "search-form") do %>
  <%= text_field_tag :search, params[:search], placeholder: "Search for a music title" %>
  <%= submit_tag "Search", :name => nil %>
<% end %>

<% if @posts.present? %>
  <%= render @posts %>
<% else %>
  <p>There are no posts containing the term(s) <%= params[:search] %>.</p>
<% end %>


<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Composer fname</th>
      <th>Composer lname</th>
      <th>Arranger</th>
      <th>Publisher</th>
      <th>Ensemble</th>
      <th>Level</th>
      <th>Location</th>
      <th>Comments</th>
      <th>Teacher</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @items.each do |item| %>
      <tr>
        <td><%= item.title %></td>
        <td><%= item.composer_fname %></td>
        <td><%= item.composer_lname %></td>
        <td><%= item.arranger %></td>
        <td><%= item.publisher %></td>
        <td><%= item.ensemble %></td>
        <td><%= item.level %></td>
        <td><%= item.location %></td>
        <td><%= item.comments %></td>
        <td><%= item.user %></td>
        <td><%= link_to 'Show', item %></td>
        <td><%= link_to 'Edit', edit_item_path(item) %></td>
        <td><%= link_to 'Destroy', item, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Item', new_item_path %>
